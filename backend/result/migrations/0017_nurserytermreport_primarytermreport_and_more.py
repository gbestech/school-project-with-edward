# Generated by Django 5.2.1 on 2025-09-21 09:14

import django.core.validators
import django.db.models.deletion
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('academics', '0004_alter_academiccalendar_academic_session_and_more'),
        ('classroom', '0008_stream_classroomteacherassignment_is_primary_teacher_and_more'),
        ('result', '0016_primaryresult_appearance_score'),
        ('students', '0009_alter_student_education_level_and_more'),
        ('subject', '0006_schoolstreamconfiguration_and_more'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='NurseryTermReport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('total_subjects', models.PositiveIntegerField(default=0)),
                ('total_max_marks', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Maximum Marks Obtainable')),
                ('total_marks_obtained', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Marks Obtained')),
                ('overall_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Overall Percentage')),
                ('class_position', models.PositiveIntegerField(blank=True, null=True)),
                ('total_students_in_class', models.PositiveIntegerField(default=0)),
                ('times_school_opened', models.PositiveIntegerField(default=0, verbose_name='Number of Times School Opened')),
                ('times_student_present', models.PositiveIntegerField(default=0, verbose_name='Number of Times Student was Present')),
                ('physical_development', models.CharField(blank=True, choices=[('EXCELLENT', 'Excellent'), ('VERY GOOD', 'Very Good'), ('GOOD', 'Good'), ('FAIR', 'Fair'), ('POOR', 'Poor')], max_length=20, verbose_name='Physical Development')),
                ('health', models.CharField(blank=True, choices=[('EXCELLENT', 'Excellent'), ('VERY GOOD', 'Very Good'), ('GOOD', 'Good'), ('FAIR', 'Fair'), ('POOR', 'Poor')], max_length=20, verbose_name='Health')),
                ('cleanliness', models.CharField(blank=True, choices=[('EXCELLENT', 'Excellent'), ('VERY GOOD', 'Very Good'), ('GOOD', 'Good'), ('FAIR', 'Fair'), ('POOR', 'Poor')], max_length=20, verbose_name='Cleanliness')),
                ('general_conduct', models.CharField(blank=True, choices=[('EXCELLENT', 'Excellent'), ('VERY GOOD', 'Very Good'), ('GOOD', 'Good'), ('FAIR', 'Fair'), ('POOR', 'Poor')], max_length=20, verbose_name='General Conduct')),
                ('physical_development_comment', models.TextField(blank=True, verbose_name='Physical Development Comment')),
                ('next_term_begins', models.DateField(blank=True, null=True)),
                ('class_teacher_remark', models.TextField(blank=True)),
                ('head_teacher_remark', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('is_published', models.BooleanField(default=False)),
                ('published_date', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'results_nursery_term_report',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PrimaryTermReport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('total_score', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Score Across All Subjects')),
                ('average_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Average Score Percentage')),
                ('overall_grade', models.CharField(blank=True, max_length=5, verbose_name='Overall Grade')),
                ('class_position', models.PositiveIntegerField(blank=True, null=True)),
                ('total_students', models.PositiveIntegerField(default=0, verbose_name='Total Students in Class')),
                ('times_opened', models.PositiveIntegerField(default=0, verbose_name='Number of Times School Opened')),
                ('times_present', models.PositiveIntegerField(default=0, verbose_name='Number of Times Student was Present')),
                ('next_term_begins', models.DateField(blank=True, null=True)),
                ('class_teacher_remark', models.TextField(blank=True)),
                ('head_teacher_remark', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('is_published', models.BooleanField(default=False)),
                ('published_date', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'results_primary_term_report',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SeniorSecondarySessionReport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('term1_total', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='First Term Total Score')),
                ('term2_total', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Second Term Total Score')),
                ('term3_total', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Third Term Total Score')),
                ('taa_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Total Annual Average')),
                ('average_for_year', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Average for the Year')),
                ('obtainable', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Obtainable Marks')),
                ('obtained', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Obtained Marks')),
                ('overall_grade', models.CharField(blank=True, max_length=5, verbose_name='Overall Grade for Session')),
                ('class_position', models.PositiveIntegerField(blank=True, null=True)),
                ('total_students', models.PositiveIntegerField(default=0, verbose_name='Total Students in Class')),
                ('teacher_remark', models.TextField(blank=True, verbose_name="Form Master's Remark")),
                ('head_teacher_remark', models.TextField(blank=True, verbose_name="Principal's Remark")),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('is_published', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'results_senior_secondary_session_report',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SeniorSecondaryTermReport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('total_score', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Score Across All Subjects')),
                ('average_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Average Score Percentage')),
                ('overall_grade', models.CharField(blank=True, max_length=5, verbose_name='Overall Grade')),
                ('class_position', models.PositiveIntegerField(blank=True, null=True)),
                ('total_students', models.PositiveIntegerField(default=0, verbose_name='Total Students in Class')),
                ('times_opened', models.PositiveIntegerField(default=0, verbose_name='Number of Times School Opened')),
                ('times_present', models.PositiveIntegerField(default=0, verbose_name='Number of Times Student was Present')),
                ('next_term_begins', models.DateField(blank=True, null=True)),
                ('class_teacher_remark', models.TextField(blank=True)),
                ('head_teacher_remark', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('is_published', models.BooleanField(default=False)),
                ('published_date', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'results_senior_secondary_term_report',
                'ordering': ['-created_at'],
            },
        ),
        migrations.RemoveField(
            model_name='nurseryresult',
            name='cleanliness',
        ),
        migrations.RemoveField(
            model_name='nurseryresult',
            name='general_conduct',
        ),
        migrations.RemoveField(
            model_name='nurseryresult',
            name='health',
        ),
        migrations.RemoveField(
            model_name='nurseryresult',
            name='physical_development',
        ),
        migrations.RemoveField(
            model_name='nurseryresult',
            name='physical_development_comment',
        ),
        migrations.RemoveField(
            model_name='nurseryresult',
            name='position',
        ),
        migrations.AddField(
            model_name='juniorsecondaryresult',
            name='class_teacher_remark',
            field=models.TextField(blank=True, verbose_name="Class Teacher's Remark"),
        ),
        migrations.AddField(
            model_name='juniorsecondaryresult',
            name='class_teacher_signature_url',
            field=models.URLField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='juniorsecondaryresult',
            name='head_teacher_remark',
            field=models.TextField(blank=True, verbose_name="Head Teacher's Remark"),
        ),
        migrations.AddField(
            model_name='juniorsecondaryresult',
            name='head_teacher_signature_url',
            field=models.URLField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='juniorsecondaryresult',
            name='principal_signature_url',
            field=models.URLField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='nurseryresult',
            name='subject_position',
            field=models.PositiveIntegerField(blank=True, null=True, verbose_name='Position in Subject'),
        ),
        migrations.AddField(
            model_name='primaryresult',
            name='class_teacher_remark',
            field=models.TextField(blank=True, verbose_name="Class Teacher's Remark"),
        ),
        migrations.AddField(
            model_name='primaryresult',
            name='class_teacher_signature_url',
            field=models.URLField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='primaryresult',
            name='head_teacher_remark',
            field=models.TextField(blank=True, verbose_name="Head Teacher's Remark"),
        ),
        migrations.AddField(
            model_name='primaryresult',
            name='head_teacher_signature_url',
            field=models.URLField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='primaryresult',
            name='principal_signature_url',
            field=models.URLField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='seniorsecondaryresult',
            name='class_teacher_remark',
            field=models.TextField(blank=True, verbose_name="Class Teacher's Remark"),
        ),
        migrations.AddField(
            model_name='seniorsecondaryresult',
            name='class_teacher_signature_url',
            field=models.URLField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='seniorsecondaryresult',
            name='head_teacher_remark',
            field=models.TextField(blank=True, verbose_name="Head Teacher's Remark"),
        ),
        migrations.AddField(
            model_name='seniorsecondaryresult',
            name='head_teacher_signature_url',
            field=models.URLField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='seniorsecondaryresult',
            name='principal_signature_url',
            field=models.URLField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='seniorsecondarysessionresult',
            name='class_teacher_remark',
            field=models.TextField(blank=True, verbose_name="Class Teacher's Remark"),
        ),
        migrations.AddField(
            model_name='seniorsecondarysessionresult',
            name='class_teacher_signature_url',
            field=models.URLField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='seniorsecondarysessionresult',
            name='head_teacher_remark',
            field=models.TextField(blank=True, verbose_name="Head Teacher's Remark"),
        ),
        migrations.AddField(
            model_name='seniorsecondarysessionresult',
            name='head_teacher_signature_url',
            field=models.URLField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='seniorsecondarysessionresult',
            name='principal_signature_url',
            field=models.URLField(blank=True, null=True),
        ),
        migrations.CreateModel(
            name='JuniorSecondaryTermReport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('total_score', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Score Across All Subjects')),
                ('average_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Average Score Percentage')),
                ('overall_grade', models.CharField(blank=True, max_length=5, verbose_name='Overall Grade')),
                ('class_position', models.PositiveIntegerField(blank=True, null=True)),
                ('total_students', models.PositiveIntegerField(default=0, verbose_name='Total Students in Class')),
                ('times_opened', models.PositiveIntegerField(default=0, verbose_name='Number of Times School Opened')),
                ('times_present', models.PositiveIntegerField(default=0, verbose_name='Number of Times Student was Present')),
                ('next_term_begins', models.DateField(blank=True, null=True)),
                ('class_teacher_remark', models.TextField(blank=True)),
                ('head_teacher_remark', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('is_published', models.BooleanField(default=False)),
                ('published_date', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('exam_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='junior_secondary_term_reports', to='result.examsession')),
                ('published_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='published_junior_secondary_reports', to=settings.AUTH_USER_MODEL)),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='junior_secondary_term_reports', to='students.student')),
            ],
            options={
                'db_table': 'results_junior_secondary_term_report',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='juniorsecondaryresult',
            name='term_report',
            field=models.ForeignKey(blank=True, help_text='Link to consolidated term report', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='subject_results', to='result.juniorsecondarytermreport'),
        ),
        migrations.AddIndex(
            model_name='juniorsecondaryresult',
            index=models.Index(fields=['term_report'], name='results_jun_term_re_769a9f_idx'),
        ),
        migrations.AddField(
            model_name='nurserytermreport',
            name='exam_session',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='nursery_term_reports', to='result.examsession'),
        ),
        migrations.AddField(
            model_name='nurserytermreport',
            name='published_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='published_nursery_reports', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nurserytermreport',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='nursery_term_reports', to='students.student'),
        ),
        migrations.AddField(
            model_name='nurseryresult',
            name='term_report',
            field=models.ForeignKey(blank=True, help_text='Link to consolidated term report', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='subject_results', to='result.nurserytermreport'),
        ),
        migrations.AddIndex(
            model_name='nurseryresult',
            index=models.Index(fields=['term_report'], name='results_nur_term_re_d3252b_idx'),
        ),
        migrations.AddField(
            model_name='primarytermreport',
            name='exam_session',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='primary_term_reports', to='result.examsession'),
        ),
        migrations.AddField(
            model_name='primarytermreport',
            name='published_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='published_primary_reports', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='primarytermreport',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='primary_term_reports', to='students.student'),
        ),
        migrations.AddField(
            model_name='primaryresult',
            name='term_report',
            field=models.ForeignKey(blank=True, help_text='Link to consolidated term report', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='subject_results', to='result.primarytermreport'),
        ),
        migrations.AddIndex(
            model_name='primaryresult',
            index=models.Index(fields=['term_report'], name='results_pri_term_re_7a1ced_idx'),
        ),
        migrations.AddField(
            model_name='seniorsecondarysessionreport',
            name='academic_session',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_secondary_session_reports', to='academics.academicsession'),
        ),
        migrations.AddField(
            model_name='seniorsecondarysessionreport',
            name='stream',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='senior_secondary_session_reports', to='classroom.stream'),
        ),
        migrations.AddField(
            model_name='seniorsecondarysessionreport',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_secondary_session_reports', to='students.student'),
        ),
        migrations.AddField(
            model_name='seniorsecondarysessionresult',
            name='session_report',
            field=models.ForeignKey(blank=True, help_text='Link to consolidated session report', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='subject_results', to='result.seniorsecondarysessionreport'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionresult',
            index=models.Index(fields=['student', 'academic_session'], name='results_sen_student_f272b7_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionresult',
            index=models.Index(fields=['subject', 'academic_session'], name='results_sen_subject_0467fd_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionresult',
            index=models.Index(fields=['status'], name='results_sen_status_306964_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionresult',
            index=models.Index(fields=['session_report'], name='results_sen_session_c1314a_idx'),
        ),
        migrations.AddField(
            model_name='seniorsecondarytermreport',
            name='exam_session',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_secondary_term_reports', to='result.examsession'),
        ),
        migrations.AddField(
            model_name='seniorsecondarytermreport',
            name='published_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='published_senior_secondary_term_reports', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='seniorsecondarytermreport',
            name='stream',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='senior_secondary_term_reports', to='classroom.stream'),
        ),
        migrations.AddField(
            model_name='seniorsecondarytermreport',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_secondary_term_reports', to='students.student'),
        ),
        migrations.AddField(
            model_name='seniorsecondaryresult',
            name='term_report',
            field=models.ForeignKey(blank=True, help_text='Link to consolidated term report', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='subject_results', to='result.seniorsecondarytermreport'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondaryresult',
            index=models.Index(fields=['term_report'], name='results_sen_term_re_b7e07c_idx'),
        ),
        migrations.AddIndex(
            model_name='juniorsecondarytermreport',
            index=models.Index(fields=['student', 'exam_session'], name='results_jun_student_66063b_idx'),
        ),
        migrations.AddIndex(
            model_name='juniorsecondarytermreport',
            index=models.Index(fields=['status'], name='results_jun_status_d98c7f_idx'),
        ),
        migrations.AddIndex(
            model_name='juniorsecondarytermreport',
            index=models.Index(fields=['is_published'], name='results_jun_is_publ_4f648a_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='juniorsecondarytermreport',
            unique_together={('student', 'exam_session')},
        ),
        migrations.AddIndex(
            model_name='nurserytermreport',
            index=models.Index(fields=['student', 'exam_session'], name='results_nur_student_b1f55f_idx'),
        ),
        migrations.AddIndex(
            model_name='nurserytermreport',
            index=models.Index(fields=['status'], name='results_nur_status_62fccf_idx'),
        ),
        migrations.AddIndex(
            model_name='nurserytermreport',
            index=models.Index(fields=['is_published'], name='results_nur_is_publ_1e1a75_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='nurserytermreport',
            unique_together={('student', 'exam_session')},
        ),
        migrations.AddIndex(
            model_name='primarytermreport',
            index=models.Index(fields=['student', 'exam_session'], name='results_pri_student_420413_idx'),
        ),
        migrations.AddIndex(
            model_name='primarytermreport',
            index=models.Index(fields=['status'], name='results_pri_status_bdfa33_idx'),
        ),
        migrations.AddIndex(
            model_name='primarytermreport',
            index=models.Index(fields=['is_published'], name='results_pri_is_publ_32f20f_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='primarytermreport',
            unique_together={('student', 'exam_session')},
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionreport',
            index=models.Index(fields=['student', 'academic_session'], name='results_sen_student_5e8ceb_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionreport',
            index=models.Index(fields=['status'], name='results_sen_status_8e50c2_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionreport',
            index=models.Index(fields=['is_published'], name='results_sen_is_publ_12bd1c_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='seniorsecondarysessionreport',
            unique_together={('student', 'academic_session')},
        ),
        migrations.AddIndex(
            model_name='seniorsecondarytermreport',
            index=models.Index(fields=['student', 'exam_session'], name='results_sen_student_9ceefa_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarytermreport',
            index=models.Index(fields=['status'], name='results_sen_status_9f3b07_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarytermreport',
            index=models.Index(fields=['is_published'], name='results_sen_is_publ_6a93e7_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='seniorsecondarytermreport',
            unique_together={('student', 'exam_session')},
        ),
    ]
