# Generated by Django 5.2.1 on 2025-10-01 17:44

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('academics', '0002_initial'),
        ('classroom', '0002_initial'),
        ('students', '0001_initial'),
        ('subject', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='AssessmentType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('code', models.CharField(max_length=10, unique=True)),
                ('description', models.TextField(blank=True)),
                ('education_level', models.CharField(choices=[('NURSERY', 'Nursery'), ('PRIMARY', 'Primary'), ('JUNIOR_SECONDARY', 'Junior Secondary'), ('SENIOR_SECONDARY', 'Senior Secondary'), ('ALL', 'All Levels')], default='ALL', help_text='Education level this assessment type applies to', max_length=20)),
                ('max_score', models.DecimalField(decimal_places=2, default=10, help_text='Maximum score for this assessment type', max_digits=5, validators=[django.core.validators.MinValueValidator(0)])),
                ('weight_percentage', models.DecimalField(decimal_places=2, help_text='Weight in final score calculation', max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Assessment Type',
                'verbose_name_plural': 'Assessment Types',
                'db_table': 'results_assessment_type',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='GradingSystem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('grading_type', models.CharField(choices=[('PERCENTAGE', 'Percentage (0-100)'), ('POINTS', 'Points (0-4.0, 0-5.0, etc.)'), ('LETTER', 'Letter Grades (A, B, C, etc.)'), ('PASS_FAIL', 'Pass/Fail')], max_length=20)),
                ('description', models.TextField(blank=True)),
                ('min_score', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('max_score', models.DecimalField(decimal_places=2, default=100, max_digits=5)),
                ('pass_mark', models.DecimalField(decimal_places=2, default=40, max_digits=5)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Grading System',
                'verbose_name_plural': 'Grading Systems',
                'db_table': 'results_grading_system',
            },
        ),
        migrations.CreateModel(
            name='ResultTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('template_type', models.CharField(choices=[('REPORT_CARD', 'Report Card'), ('TRANSCRIPT', 'Academic Transcript'), ('CERTIFICATE', 'Certificate'), ('RESULT_SLIP', 'Result Slip')], max_length=20)),
                ('education_level', models.CharField(blank=True, choices=[('NURSERY', 'Nursery'), ('PRIMARY', 'Primary'), ('JUNIOR_SECONDARY', 'Junior Secondary'), ('SENIOR_SECONDARY', 'Senior Secondary')], max_length=50)),
                ('template_content', models.TextField(help_text='HTML template content')),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'results_result_template',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='ExamSession',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
                ('exam_type', models.CharField(choices=[('FIRST_CA', 'First Continuous Assessment'), ('SECOND_CA', 'Second Continuous Assessment'), ('THIRD_CA', 'Third Continuous Assessment'), ('MID_TERM', 'Mid-term Examination'), ('FINAL_EXAM', 'Final Examination'), ('MOCK_EXAM', 'Mock Examination'), ('PRACTICAL', 'Practical Examination'), ('PROJECT', 'Project Assessment'), ('OTHER', 'Other')], max_length=20)),
                ('term', models.CharField(choices=[('FIRST', 'First Term'), ('SECOND', 'Second Term'), ('THIRD', 'Third Term')], max_length=10)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('result_release_date', models.DateField(blank=True, null=True)),
                ('is_published', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('academic_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='exam_sessions', to='academics.academicsession')),
            ],
            options={
                'db_table': 'results_exam_session',
                'ordering': ['-start_date'],
                'unique_together': {('academic_session', 'term', 'exam_type')},
            },
        ),
        migrations.CreateModel(
            name='JuniorSecondaryTermReport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('total_score', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Score Across All Subjects')),
                ('average_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Average Score Percentage')),
                ('overall_grade', models.CharField(blank=True, max_length=5, verbose_name='Overall Grade')),
                ('class_position', models.PositiveIntegerField(blank=True, null=True)),
                ('total_students', models.PositiveIntegerField(default=0, verbose_name='Total Students in Class')),
                ('times_opened', models.PositiveIntegerField(default=0, verbose_name='Number of Times School Opened')),
                ('times_present', models.PositiveIntegerField(default=0, verbose_name='Number of Times Student was Present')),
                ('next_term_begins', models.DateField(blank=True, null=True)),
                ('class_teacher_remark', models.TextField(blank=True)),
                ('head_teacher_remark', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('is_published', models.BooleanField(default=False)),
                ('published_date', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('exam_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='junior_secondary_term_reports', to='result.examsession')),
                ('published_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='published_junior_secondary_reports', to=settings.AUTH_USER_MODEL)),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='junior_secondary_term_reports', to='students.student')),
            ],
            options={
                'db_table': 'results_junior_secondary_term_report',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='JuniorSecondaryResult',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('continuous_assessment_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(15)], verbose_name='Continuous Assessment (15 marks)')),
                ('take_home_test_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)], verbose_name='Take Home Test (5 marks)')),
                ('practical_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)], verbose_name='Practical (5 marks)')),
                ('appearance_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)], verbose_name='Appearance (5 marks)')),
                ('project_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)], verbose_name='Project (5 marks)')),
                ('note_copying_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)], verbose_name='Note Copying (5 marks)')),
                ('exam_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(60)], verbose_name='Examination (60 marks)')),
                ('ca_total', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='C.A Total (35 marks)')),
                ('total_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Total (100 marks)')),
                ('ca_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Continuous Assessment (%)')),
                ('exam_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Examination (%)')),
                ('total_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Total (%)')),
                ('grade', models.CharField(blank=True, max_length=5)),
                ('grade_point', models.DecimalField(blank=True, decimal_places=2, max_digits=3, null=True)),
                ('is_passed', models.BooleanField(default=False)),
                ('class_average', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Class Average')),
                ('highest_in_class', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Highest Score in Class')),
                ('lowest_in_class', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Lowest Score in Class')),
                ('subject_position', models.PositiveIntegerField(blank=True, null=True, verbose_name='Subject Position')),
                ('previous_term_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Previous Term Score')),
                ('cumulative_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Cumulative Score')),
                ('teacher_remark', models.TextField(blank=True, verbose_name="Teacher's Remark")),
                ('class_teacher_remark', models.TextField(blank=True, verbose_name="Class Teacher's Remark")),
                ('head_teacher_remark', models.TextField(blank=True, verbose_name="Head Teacher's Remark")),
                ('class_teacher_signature_url', models.URLField(blank=True, null=True)),
                ('head_teacher_signature_url', models.URLField(blank=True, null=True)),
                ('principal_signature_url', models.URLField(blank=True, null=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('SUBMITTED', 'Submitted'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('approved_date', models.DateTimeField(blank=True, null=True)),
                ('published_date', models.DateTimeField(blank=True, null=True)),
                ('last_edited_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_junior_results', to=settings.AUTH_USER_MODEL)),
                ('entered_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='entered_junior_results', to=settings.AUTH_USER_MODEL)),
                ('exam_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='junior_secondary_results', to='result.examsession')),
                ('grading_system', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='junior_secondary_results', to='result.gradingsystem')),
                ('last_edited_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='edited_junior_results', to=settings.AUTH_USER_MODEL)),
                ('published_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='published_junior_results', to=settings.AUTH_USER_MODEL)),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='junior_secondary_results', to='students.student')),
                ('subject', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='junior_secondary_results', to='subject.subject')),
                ('term_report', models.ForeignKey(blank=True, help_text='Link to consolidated term report', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='subject_results', to='result.juniorsecondarytermreport')),
            ],
            options={
                'db_table': 'results_junior_secondary_result',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='NurseryTermReport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('total_subjects', models.PositiveIntegerField(default=0)),
                ('total_max_marks', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Maximum Marks Obtainable')),
                ('total_marks_obtained', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Marks Obtained')),
                ('overall_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Overall Percentage')),
                ('class_position', models.PositiveIntegerField(blank=True, null=True)),
                ('total_students_in_class', models.PositiveIntegerField(default=0)),
                ('times_school_opened', models.PositiveIntegerField(default=0, verbose_name='Number of Times School Opened')),
                ('times_student_present', models.PositiveIntegerField(default=0, verbose_name='Number of Times Student was Present')),
                ('physical_development', models.CharField(blank=True, choices=[('EXCELLENT', 'Excellent'), ('VERY GOOD', 'Very Good'), ('GOOD', 'Good'), ('FAIR', 'Fair'), ('POOR', 'Poor')], max_length=20, verbose_name='Physical Development')),
                ('health', models.CharField(blank=True, choices=[('EXCELLENT', 'Excellent'), ('VERY GOOD', 'Very Good'), ('GOOD', 'Good'), ('FAIR', 'Fair'), ('POOR', 'Poor')], max_length=20, verbose_name='Health')),
                ('cleanliness', models.CharField(blank=True, choices=[('EXCELLENT', 'Excellent'), ('VERY GOOD', 'Very Good'), ('GOOD', 'Good'), ('FAIR', 'Fair'), ('POOR', 'Poor')], max_length=20, verbose_name='Cleanliness')),
                ('general_conduct', models.CharField(blank=True, choices=[('EXCELLENT', 'Excellent'), ('VERY GOOD', 'Very Good'), ('GOOD', 'Good'), ('FAIR', 'Fair'), ('POOR', 'Poor')], max_length=20, verbose_name='General Conduct')),
                ('physical_development_comment', models.TextField(blank=True, verbose_name='Physical Development Comment')),
                ('next_term_begins', models.DateField(blank=True, null=True)),
                ('class_teacher_remark', models.TextField(blank=True)),
                ('head_teacher_remark', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('is_published', models.BooleanField(default=False)),
                ('published_date', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('exam_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='nursery_term_reports', to='result.examsession')),
                ('published_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='published_nursery_reports', to=settings.AUTH_USER_MODEL)),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='nursery_term_reports', to='students.student')),
            ],
            options={
                'db_table': 'results_nursery_term_report',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='NurseryResult',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('max_marks_obtainable', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Max Marks Obtainable')),
                ('mark_obtained', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Mark Obtained')),
                ('subject_position', models.PositiveIntegerField(blank=True, null=True, verbose_name='Position in Subject')),
                ('academic_comment', models.TextField(blank=True, verbose_name='Academic Comment')),
                ('percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Percentage')),
                ('grade', models.CharField(blank=True, max_length=5)),
                ('grade_point', models.DecimalField(blank=True, decimal_places=2, max_digits=3, null=True)),
                ('is_passed', models.BooleanField(default=False)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('SUBMITTED', 'Submitted'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('approved_date', models.DateTimeField(blank=True, null=True)),
                ('published_date', models.DateTimeField(blank=True, null=True)),
                ('last_edited_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_nursery_results', to=settings.AUTH_USER_MODEL)),
                ('entered_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='entered_nursery_results', to=settings.AUTH_USER_MODEL)),
                ('exam_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='nursery_results', to='result.examsession')),
                ('grading_system', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='nursery_results', to='result.gradingsystem')),
                ('last_edited_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='edited_nursery_results', to=settings.AUTH_USER_MODEL)),
                ('published_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='published_nursery_results', to=settings.AUTH_USER_MODEL)),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='nursery_results', to='students.student')),
                ('subject', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='nursery_results', to='subject.subject')),
                ('term_report', models.ForeignKey(blank=True, help_text='Link to consolidated term report', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='subject_results', to='result.nurserytermreport')),
            ],
            options={
                'db_table': 'results_nursery_result',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PrimaryTermReport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('total_score', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Score Across All Subjects')),
                ('average_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Average Score Percentage')),
                ('overall_grade', models.CharField(blank=True, max_length=5, verbose_name='Overall Grade')),
                ('class_position', models.PositiveIntegerField(blank=True, null=True)),
                ('total_students', models.PositiveIntegerField(default=0, verbose_name='Total Students in Class')),
                ('times_opened', models.PositiveIntegerField(default=0, verbose_name='Number of Times School Opened')),
                ('times_present', models.PositiveIntegerField(default=0, verbose_name='Number of Times Student was Present')),
                ('next_term_begins', models.DateField(blank=True, null=True)),
                ('class_teacher_remark', models.TextField(blank=True)),
                ('head_teacher_remark', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('is_published', models.BooleanField(default=False)),
                ('published_date', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('exam_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='primary_term_reports', to='result.examsession')),
                ('published_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='published_primary_reports', to=settings.AUTH_USER_MODEL)),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='primary_term_reports', to='students.student')),
            ],
            options={
                'db_table': 'results_primary_term_report',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PrimaryResult',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('continuous_assessment_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(15)], verbose_name='Continuous Assessment (15 marks)')),
                ('take_home_test_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)], verbose_name='Take Home Test (5 marks)')),
                ('practical_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)], verbose_name='Practical (5 marks)')),
                ('appearance_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)], verbose_name='Appearance (5 marks)')),
                ('project_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)], verbose_name='Project (5 marks)')),
                ('note_copying_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)], verbose_name='Note Copying (5 marks)')),
                ('exam_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(60)], verbose_name='Examination (60 marks)')),
                ('ca_total', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='C.A Total (35 marks)')),
                ('total_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Total (100 marks)')),
                ('ca_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Continuous Assessment (%)')),
                ('exam_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Examination (%)')),
                ('total_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Total (%)')),
                ('grade', models.CharField(blank=True, max_length=5)),
                ('grade_point', models.DecimalField(blank=True, decimal_places=2, max_digits=3, null=True)),
                ('is_passed', models.BooleanField(default=False)),
                ('class_average', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Class Average')),
                ('highest_in_class', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Highest Score in Class')),
                ('lowest_in_class', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Lowest Score in Class')),
                ('subject_position', models.PositiveIntegerField(blank=True, null=True, verbose_name='Subject Position')),
                ('previous_term_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Previous Term Score')),
                ('cumulative_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Cumulative Score')),
                ('teacher_remark', models.TextField(blank=True, verbose_name="Teacher's Remark")),
                ('class_teacher_remark', models.TextField(blank=True, verbose_name="Class Teacher's Remark")),
                ('head_teacher_remark', models.TextField(blank=True, verbose_name="Head Teacher's Remark")),
                ('class_teacher_signature_url', models.URLField(blank=True, null=True)),
                ('head_teacher_signature_url', models.URLField(blank=True, null=True)),
                ('principal_signature_url', models.URLField(blank=True, null=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('SUBMITTED', 'Submitted'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('approved_date', models.DateTimeField(blank=True, null=True)),
                ('published_date', models.DateTimeField(blank=True, null=True)),
                ('last_edited_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_primary_results', to=settings.AUTH_USER_MODEL)),
                ('entered_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='entered_primary_results', to=settings.AUTH_USER_MODEL)),
                ('exam_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='primary_results', to='result.examsession')),
                ('grading_system', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='primary_results', to='result.gradingsystem')),
                ('last_edited_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='edited_primary_results', to=settings.AUTH_USER_MODEL)),
                ('published_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='published_primary_results', to=settings.AUTH_USER_MODEL)),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='primary_results', to='students.student')),
                ('subject', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='primary_results', to='subject.subject')),
                ('term_report', models.ForeignKey(blank=True, help_text='Link to consolidated term report', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='subject_results', to='result.primarytermreport')),
            ],
            options={
                'db_table': 'results_primary_result',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ResultSheet',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('student_class', models.CharField(choices=[('PRE_NURSERY', 'Pre-nursery'), ('NURSERY_1', 'Nursery 1'), ('NURSERY_2', 'Nursery 2'), ('PRIMARY_1', 'Primary 1'), ('PRIMARY_2', 'Primary 2'), ('PRIMARY_3', 'Primary 3'), ('PRIMARY_4', 'Primary 4'), ('PRIMARY_5', 'Primary 5'), ('PRIMARY_6', 'Primary 6'), ('JSS_1', 'Junior Secondary 1 (JSS1)'), ('JSS_2', 'Junior Secondary 2 (JSS2)'), ('JSS_3', 'Junior Secondary 3 (JSS3)'), ('SS_1', 'Senior Secondary 1 (SS1)'), ('SS_2', 'Senior Secondary 2 (SS2)'), ('SS_3', 'Senior Secondary 3 (SS3)')], max_length=50)),
                ('education_level', models.CharField(choices=[('NURSERY', 'Nursery'), ('PRIMARY', 'Primary'), ('JUNIOR_SECONDARY', 'Junior Secondary'), ('SENIOR_SECONDARY', 'Senior Secondary')], max_length=50)),
                ('total_students', models.PositiveIntegerField(default=0)),
                ('students_passed', models.PositiveIntegerField(default=0)),
                ('students_failed', models.PositiveIntegerField(default=0)),
                ('class_average', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('highest_score', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('lowest_score', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('SUBMITTED', 'Submitted'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('approved_date', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_sheets', to=settings.AUTH_USER_MODEL)),
                ('exam_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='result_sheets', to='result.examsession')),
                ('prepared_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='prepared_sheets', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'results_result_sheet',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ScoringConfiguration',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('education_level', models.CharField(choices=[('NURSERY', 'Nursery'), ('PRIMARY', 'Primary'), ('JUNIOR_SECONDARY', 'Junior Secondary'), ('SENIOR_SECONDARY', 'Senior Secondary')], max_length=20, verbose_name='Education Level')),
                ('result_type', models.CharField(choices=[('TERMLY', 'Termly Result'), ('SESSION', 'Session Result')], max_length=20, verbose_name='Result Type')),
                ('name', models.CharField(max_length=100, verbose_name='Configuration Name')),
                ('description', models.TextField(blank=True, verbose_name='Description')),
                ('test1_max_score', models.DecimalField(decimal_places=2, default=10, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Test 1 Max Score')),
                ('test2_max_score', models.DecimalField(decimal_places=2, default=10, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Test 2 Max Score')),
                ('test3_max_score', models.DecimalField(decimal_places=2, default=10, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Test 3 Max Score')),
                ('continuous_assessment_max_score', models.DecimalField(decimal_places=2, default=15, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Continuous Assessment Max Score')),
                ('take_home_test_max_score', models.DecimalField(decimal_places=2, default=5, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Take Home Test Max Score')),
                ('appearance_max_score', models.DecimalField(decimal_places=2, default=5, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Appearance Max Score')),
                ('practical_max_score', models.DecimalField(decimal_places=2, default=5, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Practical Max Score')),
                ('project_max_score', models.DecimalField(decimal_places=2, default=5, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Project Max Score')),
                ('note_copying_max_score', models.DecimalField(decimal_places=2, default=5, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Note Copying Max Score')),
                ('exam_max_score', models.DecimalField(decimal_places=2, default=70, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Exam Max Score')),
                ('ca_weight_percentage', models.DecimalField(decimal_places=2, default=40, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='CA Weight Percentage')),
                ('exam_weight_percentage', models.DecimalField(decimal_places=2, default=60, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='Exam Weight Percentage')),
                ('total_max_score', models.DecimalField(decimal_places=2, default=100, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Total Max Score')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
                ('is_default', models.BooleanField(default=False, verbose_name='Default Configuration')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_scoring_configs', to=settings.AUTH_USER_MODEL, verbose_name='Created By')),
            ],
            options={
                'verbose_name': 'Scoring Configuration',
                'verbose_name_plural': 'Scoring Configurations',
                'db_table': 'results_scoring_configuration',
                'ordering': ['education_level', 'result_type', 'name'],
            },
        ),
        migrations.CreateModel(
            name='SeniorSecondarySessionReport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('term1_total', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='First Term Total Score')),
                ('term2_total', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Second Term Total Score')),
                ('term3_total', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Third Term Total Score')),
                ('taa_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Total Annual Average')),
                ('average_for_year', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Average for the Year')),
                ('obtainable', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Obtainable Marks')),
                ('obtained', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Obtained Marks')),
                ('overall_grade', models.CharField(blank=True, max_length=5, verbose_name='Overall Grade for Session')),
                ('class_position', models.PositiveIntegerField(blank=True, null=True)),
                ('total_students', models.PositiveIntegerField(default=0, verbose_name='Total Students in Class')),
                ('teacher_remark', models.TextField(blank=True, verbose_name="Form Master's Remark")),
                ('head_teacher_remark', models.TextField(blank=True, verbose_name="Principal's Remark")),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('is_published', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('academic_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_secondary_session_reports', to='academics.academicsession')),
                ('stream', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='senior_secondary_session_reports', to='classroom.stream')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_secondary_session_reports', to='students.student')),
            ],
            options={
                'db_table': 'results_senior_secondary_session_report',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SeniorSecondarySessionResult',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('first_term_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='1st Term Total Score')),
                ('second_term_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='2nd Term Total Score')),
                ('third_term_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='3rd Term Total Score')),
                ('average_for_year', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Average for the Year')),
                ('obtainable', models.DecimalField(decimal_places=2, default=300, max_digits=5, verbose_name='Total Obtainable (300 marks)')),
                ('obtained', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Total Obtained')),
                ('class_average', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Class Average')),
                ('highest_in_class', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Highest Score in Class')),
                ('lowest_in_class', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Lowest Score in Class')),
                ('subject_position', models.PositiveIntegerField(blank=True, null=True, verbose_name='Position in Subject')),
                ('teacher_remark', models.TextField(blank=True, verbose_name="Teacher's Remark")),
                ('class_teacher_remark', models.TextField(blank=True, verbose_name="Class Teacher's Remark")),
                ('head_teacher_remark', models.TextField(blank=True, verbose_name="Head Teacher's Remark")),
                ('class_teacher_signature_url', models.URLField(blank=True, null=True)),
                ('head_teacher_signature_url', models.URLField(blank=True, null=True)),
                ('principal_signature_url', models.URLField(blank=True, null=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('academic_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_session_results', to='academics.academicsession')),
                ('session_report', models.ForeignKey(blank=True, help_text='Link to consolidated session report', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='subject_results', to='result.seniorsecondarysessionreport')),
                ('stream', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='senior_session_results', to='classroom.stream')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_session_results', to='students.student')),
                ('subject', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_session_results', to='subject.subject')),
            ],
            options={
                'db_table': 'results_senior_secondary_session_result',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SeniorSecondaryTermReport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('total_score', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Total Score Across All Subjects')),
                ('average_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Average Score Percentage')),
                ('overall_grade', models.CharField(blank=True, max_length=5, verbose_name='Overall Grade')),
                ('class_position', models.PositiveIntegerField(blank=True, null=True)),
                ('total_students', models.PositiveIntegerField(default=0, verbose_name='Total Students in Class')),
                ('times_opened', models.PositiveIntegerField(default=0, verbose_name='Number of Times School Opened')),
                ('times_present', models.PositiveIntegerField(default=0, verbose_name='Number of Times Student was Present')),
                ('next_term_begins', models.DateField(blank=True, null=True)),
                ('class_teacher_remark', models.TextField(blank=True)),
                ('head_teacher_remark', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('is_published', models.BooleanField(default=False)),
                ('published_date', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('exam_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_secondary_term_reports', to='result.examsession')),
                ('published_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='published_senior_secondary_term_reports', to=settings.AUTH_USER_MODEL)),
                ('stream', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='senior_secondary_term_reports', to='classroom.stream')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_secondary_term_reports', to='students.student')),
            ],
            options={
                'db_table': 'results_senior_secondary_term_report',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SeniorSecondaryResult',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('first_test_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)], verbose_name='1st Test Score (10 marks)')),
                ('second_test_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)], verbose_name='2nd Test Score (10 marks)')),
                ('third_test_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)], verbose_name='3rd Test Score (10 marks)')),
                ('exam_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(70)], verbose_name='Examination Score (70 marks)')),
                ('total_ca_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Total CA Score (30 marks)')),
                ('total_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Total Score (100 marks)')),
                ('percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('grade', models.CharField(blank=True, max_length=5)),
                ('grade_point', models.DecimalField(blank=True, decimal_places=2, max_digits=3, null=True)),
                ('is_passed', models.BooleanField(default=False)),
                ('class_average', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Class Average')),
                ('highest_in_class', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Highest Score in Class')),
                ('lowest_in_class', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Lowest Score in Class')),
                ('subject_position', models.PositiveIntegerField(blank=True, null=True, verbose_name='Position in Subject')),
                ('teacher_remark', models.TextField(blank=True, verbose_name="Teacher's Remark")),
                ('class_teacher_remark', models.TextField(blank=True, verbose_name="Class Teacher's Remark")),
                ('head_teacher_remark', models.TextField(blank=True, verbose_name="Head Teacher's Remark")),
                ('class_teacher_signature_url', models.URLField(blank=True, null=True)),
                ('head_teacher_signature_url', models.URLField(blank=True, null=True)),
                ('principal_signature_url', models.URLField(blank=True, null=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('SUBMITTED', 'Submitted'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('approved_date', models.DateTimeField(blank=True, null=True)),
                ('published_date', models.DateTimeField(blank=True, null=True)),
                ('last_edited_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_senior_results', to=settings.AUTH_USER_MODEL)),
                ('entered_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='entered_senior_results', to=settings.AUTH_USER_MODEL)),
                ('exam_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_secondary_results', to='result.examsession')),
                ('grading_system', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_secondary_results', to='result.gradingsystem')),
                ('last_edited_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='edited_senior_secondary_results', to=settings.AUTH_USER_MODEL)),
                ('published_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='published_senior_secondary_results', to=settings.AUTH_USER_MODEL)),
                ('stream', models.ForeignKey(blank=True, help_text='Stream for Senior Secondary results (Science, Arts, Commercial, Technical)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='senior_secondary_results', to='classroom.stream')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_secondary_results', to='students.student')),
                ('subject', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='senior_secondary_results', to='subject.subject')),
                ('term_report', models.ForeignKey(blank=True, help_text='Link to consolidated term report', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='subject_results', to='result.seniorsecondarytermreport')),
            ],
            options={
                'db_table': 'results_senior_secondary_result',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='StudentResult',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('ca_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Continuous Assessment Score')),
                ('exam_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0)], verbose_name='Examination Score')),
                ('total_score', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0)])),
                ('percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('grade', models.CharField(blank=True, max_length=5)),
                ('grade_point', models.DecimalField(blank=True, decimal_places=2, max_digits=3, null=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('SUBMITTED', 'Submitted'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('is_passed', models.BooleanField(default=False)),
                ('position', models.PositiveIntegerField(blank=True, null=True)),
                ('remarks', models.TextField(blank=True)),
                ('approved_date', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_results', to=settings.AUTH_USER_MODEL)),
                ('entered_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='entered_results', to=settings.AUTH_USER_MODEL)),
                ('exam_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='student_results', to='result.examsession')),
                ('grading_system', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='student_results', to='result.gradingsystem')),
                ('stream', models.ForeignKey(blank=True, help_text='Stream for Senior Secondary results (Science, Arts, Commercial, Technical)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='student_results', to='classroom.stream')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='results', to='students.student')),
                ('subject', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='student_results', to='subject.subject')),
            ],
            options={
                'db_table': 'results_student_result',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='AssessmentScore',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('score', models.DecimalField(decimal_places=2, max_digits=5, validators=[django.core.validators.MinValueValidator(0)])),
                ('max_score', models.DecimalField(decimal_places=2, max_digits=5, validators=[django.core.validators.MinValueValidator(0)])),
                ('percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('remarks', models.TextField(blank=True)),
                ('date_assessed', models.DateField(default=django.utils.timezone.now)),
                ('assessment_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='scores', to='result.assessmenttype')),
                ('student_result', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='assessment_scores', to='result.studentresult')),
            ],
            options={
                'db_table': 'results_assessment_score',
            },
        ),
        migrations.CreateModel(
            name='StudentTermResult',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('term', models.CharField(choices=[('FIRST', 'First Term'), ('SECOND', 'Second Term'), ('THIRD', 'Third Term')], max_length=10)),
                ('total_subjects', models.PositiveIntegerField(default=0)),
                ('subjects_passed', models.PositiveIntegerField(default=0)),
                ('subjects_failed', models.PositiveIntegerField(default=0)),
                ('total_score', models.DecimalField(decimal_places=2, default=0, max_digits=8)),
                ('average_score', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('gpa', models.DecimalField(decimal_places=2, default=0, max_digits=3)),
                ('class_position', models.PositiveIntegerField(blank=True, null=True)),
                ('total_students', models.PositiveIntegerField(default=0)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('APPROVED', 'Approved'), ('PUBLISHED', 'Published')], default='DRAFT', max_length=20)),
                ('remarks', models.TextField(blank=True)),
                ('next_term_begins', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('academic_session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='student_term_results', to='academics.academicsession')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='term_results', to='students.student')),
            ],
            options={
                'db_table': 'results_student_term_result',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ResultComment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('comment_type', models.CharField(choices=[('GENERAL', 'General Comment'), ('SUBJECT', 'Subject-specific Comment'), ('BEHAVIOR', 'Behavioral Comment'), ('RECOMMENDATION', 'Recommendation')], max_length=20)),
                ('comment', models.TextField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('commented_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='result_comments', to=settings.AUTH_USER_MODEL)),
                ('student_result', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='result.studentresult')),
                ('term_result', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='result.studenttermresult')),
            ],
            options={
                'db_table': 'results_result_comment',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Grade',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('grade', models.CharField(max_length=5)),
                ('min_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('max_score', models.DecimalField(decimal_places=2, max_digits=5)),
                ('grade_point', models.DecimalField(blank=True, decimal_places=2, max_digits=3, null=True)),
                ('description', models.CharField(blank=True, max_length=100)),
                ('is_passing', models.BooleanField(default=True)),
                ('grading_system', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='grades', to='result.gradingsystem')),
            ],
            options={
                'db_table': 'results_grade',
                'ordering': ['-min_score'],
                'unique_together': {('grading_system', 'grade')},
            },
        ),
        migrations.AddIndex(
            model_name='juniorsecondarytermreport',
            index=models.Index(fields=['student', 'exam_session'], name='results_jun_student_66063b_idx'),
        ),
        migrations.AddIndex(
            model_name='juniorsecondarytermreport',
            index=models.Index(fields=['status'], name='results_jun_status_d98c7f_idx'),
        ),
        migrations.AddIndex(
            model_name='juniorsecondarytermreport',
            index=models.Index(fields=['is_published'], name='results_jun_is_publ_4f648a_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='juniorsecondarytermreport',
            unique_together={('student', 'exam_session')},
        ),
        migrations.AddIndex(
            model_name='juniorsecondaryresult',
            index=models.Index(fields=['student', 'exam_session'], name='results_jun_student_077c2b_idx'),
        ),
        migrations.AddIndex(
            model_name='juniorsecondaryresult',
            index=models.Index(fields=['subject', 'exam_session'], name='results_jun_subject_ee69c9_idx'),
        ),
        migrations.AddIndex(
            model_name='juniorsecondaryresult',
            index=models.Index(fields=['status'], name='results_jun_status_0d6a49_idx'),
        ),
        migrations.AddIndex(
            model_name='juniorsecondaryresult',
            index=models.Index(fields=['term_report'], name='results_jun_term_re_769a9f_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='juniorsecondaryresult',
            unique_together={('student', 'subject', 'exam_session')},
        ),
        migrations.AddIndex(
            model_name='nurserytermreport',
            index=models.Index(fields=['student', 'exam_session'], name='results_nur_student_b1f55f_idx'),
        ),
        migrations.AddIndex(
            model_name='nurserytermreport',
            index=models.Index(fields=['status'], name='results_nur_status_62fccf_idx'),
        ),
        migrations.AddIndex(
            model_name='nurserytermreport',
            index=models.Index(fields=['is_published'], name='results_nur_is_publ_1e1a75_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='nurserytermreport',
            unique_together={('student', 'exam_session')},
        ),
        migrations.AddIndex(
            model_name='nurseryresult',
            index=models.Index(fields=['student', 'exam_session'], name='results_nur_student_32b297_idx'),
        ),
        migrations.AddIndex(
            model_name='nurseryresult',
            index=models.Index(fields=['subject', 'exam_session'], name='results_nur_subject_7d0a43_idx'),
        ),
        migrations.AddIndex(
            model_name='nurseryresult',
            index=models.Index(fields=['status'], name='results_nur_status_234344_idx'),
        ),
        migrations.AddIndex(
            model_name='nurseryresult',
            index=models.Index(fields=['term_report'], name='results_nur_term_re_d3252b_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='nurseryresult',
            unique_together={('student', 'subject', 'exam_session')},
        ),
        migrations.AddIndex(
            model_name='primarytermreport',
            index=models.Index(fields=['student', 'exam_session'], name='results_pri_student_420413_idx'),
        ),
        migrations.AddIndex(
            model_name='primarytermreport',
            index=models.Index(fields=['status'], name='results_pri_status_bdfa33_idx'),
        ),
        migrations.AddIndex(
            model_name='primarytermreport',
            index=models.Index(fields=['is_published'], name='results_pri_is_publ_32f20f_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='primarytermreport',
            unique_together={('student', 'exam_session')},
        ),
        migrations.AddIndex(
            model_name='primaryresult',
            index=models.Index(fields=['student', 'exam_session'], name='results_pri_student_a14e2f_idx'),
        ),
        migrations.AddIndex(
            model_name='primaryresult',
            index=models.Index(fields=['subject', 'exam_session'], name='results_pri_subject_1d620c_idx'),
        ),
        migrations.AddIndex(
            model_name='primaryresult',
            index=models.Index(fields=['status'], name='results_pri_status_b46d4d_idx'),
        ),
        migrations.AddIndex(
            model_name='primaryresult',
            index=models.Index(fields=['term_report'], name='results_pri_term_re_7a1ced_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='primaryresult',
            unique_together={('student', 'subject', 'exam_session')},
        ),
        migrations.AlterUniqueTogether(
            name='resultsheet',
            unique_together={('exam_session', 'student_class', 'education_level')},
        ),
        migrations.AddIndex(
            model_name='scoringconfiguration',
            index=models.Index(fields=['education_level', 'result_type'], name='results_sco_educati_c3bc93_idx'),
        ),
        migrations.AddIndex(
            model_name='scoringconfiguration',
            index=models.Index(fields=['is_active'], name='results_sco_is_acti_8d7777_idx'),
        ),
        migrations.AddIndex(
            model_name='scoringconfiguration',
            index=models.Index(fields=['is_default'], name='results_sco_is_defa_5d3223_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='scoringconfiguration',
            unique_together={('education_level', 'result_type', 'name')},
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionreport',
            index=models.Index(fields=['student', 'academic_session'], name='results_sen_student_5e8ceb_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionreport',
            index=models.Index(fields=['status'], name='results_sen_status_8e50c2_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionreport',
            index=models.Index(fields=['is_published'], name='results_sen_is_publ_12bd1c_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='seniorsecondarysessionreport',
            unique_together={('student', 'academic_session')},
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionresult',
            index=models.Index(fields=['student', 'academic_session'], name='results_sen_student_f272b7_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionresult',
            index=models.Index(fields=['subject', 'academic_session'], name='results_sen_subject_0467fd_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionresult',
            index=models.Index(fields=['status'], name='results_sen_status_306964_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarysessionresult',
            index=models.Index(fields=['session_report'], name='results_sen_session_c1314a_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='seniorsecondarysessionresult',
            unique_together={('student', 'subject', 'academic_session')},
        ),
        migrations.AddIndex(
            model_name='seniorsecondarytermreport',
            index=models.Index(fields=['student', 'exam_session'], name='results_sen_student_9ceefa_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarytermreport',
            index=models.Index(fields=['status'], name='results_sen_status_9f3b07_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondarytermreport',
            index=models.Index(fields=['is_published'], name='results_sen_is_publ_6a93e7_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='seniorsecondarytermreport',
            unique_together={('student', 'exam_session')},
        ),
        migrations.AddIndex(
            model_name='seniorsecondaryresult',
            index=models.Index(fields=['student', 'exam_session'], name='results_sen_student_5e812c_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondaryresult',
            index=models.Index(fields=['subject', 'exam_session'], name='results_sen_subject_b14457_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondaryresult',
            index=models.Index(fields=['status'], name='results_sen_status_5b3bdb_idx'),
        ),
        migrations.AddIndex(
            model_name='seniorsecondaryresult',
            index=models.Index(fields=['term_report'], name='results_sen_term_re_b7e07c_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='seniorsecondaryresult',
            unique_together={('student', 'subject', 'exam_session')},
        ),
        migrations.AddIndex(
            model_name='studentresult',
            index=models.Index(fields=['student', 'exam_session'], name='results_stu_student_3d6a0d_idx'),
        ),
        migrations.AddIndex(
            model_name='studentresult',
            index=models.Index(fields=['subject', 'exam_session'], name='results_stu_subject_9f527f_idx'),
        ),
        migrations.AddIndex(
            model_name='studentresult',
            index=models.Index(fields=['status'], name='results_stu_status_4a6c28_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='studentresult',
            unique_together={('student', 'subject', 'exam_session')},
        ),
        migrations.AlterUniqueTogether(
            name='assessmentscore',
            unique_together={('student_result', 'assessment_type')},
        ),
        migrations.AlterUniqueTogether(
            name='studenttermresult',
            unique_together={('student', 'academic_session', 'term')},
        ),
    ]
